# ビジネス経済漫才ポッドキャスト自動化プロジェクト：設計書

## 1. プロジェクト概要
毎朝、最新のビジネス・経済ニュースを「キャピタル・ゲインズ」という漫才コンビが独自の視点で解説するポッドキャストを全自動生成する。
リスナーが楽しみながら、その日の重要な経済トピックと正しい知識を5分で学べるコンテンツを目指す。

## 2. 技術スタック
- **言語**: Python 3.10+
- **ニュース取得**: `feedparser` (TBS NEWS DIG RSS / Businessカテゴリ)
- **ロジック (LLM)**: OpenAI `gpt-4o` (ニュース選別、台本生成)
- **音声合成 (TTS)**: OpenAI `tts-1` (進藤: Onyx / 守屋: Alloy)
- **音声編集**: `pydub` (BGM合成、音声結合)
- **インフラ**: GitHub Actions (定期実行), GitHub Pages (RSS/MP3ホスティング)
- **配信プラットフォーム**: Spotify for Creators (RSS連携)

## 3. ディレクトリ構成
```text
.
├── CLAUDE.md             # 開発ガイドライン
├── PROJECT_DESIGN.md     # 本設計ドキュメント
├── main.py               # メイン実行スクリプト
├── src/
│   ├── fetcher.py        # RSS取得・パース
│   ├── processor.py      # LLMによる選別・台本生成
│   ├── synthesizer.py    # OpenAI TTS連携
│   ├── mixer.py          # 音声結合・BGM重畳
│   └── publisher.py      # RSS(feed.xml)更新
├── prompts/
│   ├── selection.md      # ニュース選別用プロンプト
│   └── script.md         # 漫才台本生成用プロンプト
├── assets/
│   ├── bgm_op.mp3        # オープニング曲
│   └── bgm_main.mp3      # 漫才中のうっすらしたBGM
└── public/               # GitHub Pages公開用ディレクトリ
    ├── audio/            # 生成されたMP3
    └── feed.xml          # ポッドキャストRSSフィード
```

## 4. データフロー
1. **Fetch**: `TBS NEWS DIG` のビジネスRSSから最新記事を20件程度取得。
2. **Select**: リスナーに有益で、漫才のネタにしやすいビジネスニュース5件をGPT-4oが厳選。
3. **Draft**: 以下のキャラクター設定に基づき、関西弁の漫才台本をJSON形式で生成。
4. **Speak**: OpenAI TTS（tts-1）を用いて、各セリフの音声ファイルを生成。
5. **Mix**: `pydub` を使用し、各セリフを結合。出囃子（BGM）を重ねて、最終的な `daily_YYYYMMDD.mp3` を書き出し。
6. **Publish**: `feed.xml`（ポッドキャストRSS）を更新し、GitHub Pagesへデプロイ。Spotifyが更新を検知して配信。

## 5. キャラクター設定：キャピタル・ゲインズ
**漫才スタイル**: 「銭ゲバな独特解釈」vs「冷静な経済正論」。

### ボケ：進藤 蓮（しんどう れん）
- **音声 (TTS)**: `Onyx` (重厚で落ち着いた低音)
- **口調**: ゆったりとした、重みのある関西弁。
- **設定**: 自称・爆速起業家。ニュースの単語だけを拾い、「これは儲かる！」という斜め上のトンデモ理論を大真面目に語る。
- **ボケの傾向**: 経済用語を自分の都合の良いように解釈し、最終的に「全財産突っ込む」と言い出す。

### ツッコミ：守屋 健太郎（もりや けんたろう）
- **音声 (TTS)**: `Alloy` (明るく快活、通る声)
- **口調**: テンポが速く、キレのある関西弁。
- **設定**: 元メガバンク融資担当。進藤の暴走を「アホか」と一蹴し、リスナーに分かりやすく正しい経済解説を行う。
- **ツッコミの傾向**: 進藤を突き放しつつも、ニュースの本質的な意味（メリット・リスク）を短く解説する。

## 6. 実装要件
- **台本フォーマット**: 音声生成の自動化を容易にするため、必ず以下のJSON配列で管理する。
  `[{"speaker": "進藤", "text": "〜"}, {"speaker": "守屋", "text": "〜"}]`
- **関西弁の品質**: LLMへのプロンプトで「単なる標準語の変換ではなく、リズム、倒置法、関西特有の感嘆符（せやから、〜やろ、ちゃうねん）」を強調する。
- **自動化スケジュール**: GitHub Actionsを用い、毎朝日本時間 7:00（JST）までに配信が完了するようにcron設定を行う。
- **BGM/SE**: 
    - オープニング：3秒程度の出囃子。
    - 本編：うっすらと流れるジャズやラウンジ系のBGM（セリフを邪魔しない音量）。
    - 結び：最後の「もうええわ」の後にフェードアウト。
  